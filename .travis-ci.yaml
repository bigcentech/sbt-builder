sudo: required
services:
- docker
script:
- export REPO=bigcentech/sbt-builder
- export TAG_TO_USE=${TRAVIS_TAG:-snapshot}
- docker build -t $REPO:latest .
- docker tag $REPO:latest $REPO:$TAG_TO_USE
deploy:
  provider: script
  script: docker login -e="$DOCKER_EMAIL" -u="$DOCKER_USER" -p="$DOCKER_PASS" && docker push $REPO
  on:
    tags: true
env:
  global:
  - secure: "DW783CdLRTSCwzrzxZ0PIUZumrbmVj+CMFG8fJQo1B/STSI62PGJZKLe4q5oGZZ4VO6RAR4hqWapjKmI9KDnvgA0BNnnNo83RKxlJKIErbA7AoQ73piCN2l8K076TkxLzxjOEMO3XBSpe5mLmzDE44S+GmnjWzwvDfJe5YHhP4gjJjE0NuWMMFUCgGqrg9MIyjf64eED9dIYKTnbyMolYHcsd9tCfAT32VQkbBOU4duy6tDCWVkNv16uakQjfCto47K1WjuytPkJqp3tRgT00/JEscuS2mWCwm5qfyUImcweLZwRlaSmNI3X2rATSY5IYaGRE70PNuVzjiioH/uruv5wz60aDNbFXzg8J/HtxUuQ1llwrgM3y22gtXQxhWdq+tmlR2woKnSMeKRkrGdSBlEJQ1dHrlb9kOXVksGe/mjykw5PFg21h0WrGiFxscODEtnQfsX6JFtJTbG2K9lpiAleqLg8gL2gJqAL5uleYoJzYOveKkv5Kg2YiCEuoD2rbhZYNKHk+8AyBIzK8xxaq7MjqT5xnpJGuDMhiwbh1+pPMoWavMGlP8C/v4/U3Pp5jCCCbAw8WjV3vCE9OzDkhg9D5I0pQaBd6zC8N6dT1QYLDqPrRkYkUNDLioFGSNvxuM8rUAwzuM61e06lA5WLKMrn08b6UxypCRP7jTrU2Nc="
  - secure: "hu9riOczjrzlVg7VoCZeZ4WMJf3aO825CyQOmDPr+w0jcZ37CRr8N0GvJaajlYUIyRXmhZVc+7hOZQ31upOgSyhbBv+MUsv6TNnMJyyjim1D+4tIA1t/O1gGDCdUAKgSJVz5K9pJ2CiTdX7xx8w4PlRwhAOMKHzhkzOiGaw9Z4qUck5gjzZ9qdJNHIr6+jbP7+Igap+ASOHAoVh7Gwh+nafGsqHtSZkfJ4weYfY/zNBEA4BELWU0Qx/rBmXuHATCJDhIwnUY31V1oJjp6WkXnktNb97c5ahLFe0yOFI6k3+FLoTZU+GLOnGcWVcWuz4X6Z13AQX5ndMPAPhCBKJKhkCjKBTMzPniKpGscxhwGH3h3NT/+55gYG5/MXyq9+zFCR019Zm0GX3hiL+jKY6bLd1wWYzHYAXeh3KBHh+gt7hNGbBo7XP2mCkYuZR4j4ji+Z7ICWgMhTH9Ygb5xrY+HcW+SeFEoCJNfxYJnJe6bbZ3Z2VUYFWf39sJi6jLVtt8JI9mxHm7iLyk9SFLu6W/Nzik0XIad0W4TMkC7fnSetXlbokrq8dvGvKp7svDAVJtmw7ZfuyvvMJf48cfG+deQjjJTFusNqvIi02GUOwb7ltYijqARLtNxhUKNfE1deG7tl7RBY2oj3Ou/Trdr/tF/UH3YaG7H3/POWNmbt+lyjA="
  - secure: "j5tlfcNCmT4+wxAy9Hk7pR7uOVXn+XRVMr5A+OeNGCDfR3VNJJpXaC2U1qIqzq7NRepS3l+OBB6uJEdJsBdij83MI/vNgkvnj9/ufCPBz8FzJOUh0fTC4NlfkUoclhThLliZt21gYk8TdjmGDgh32ZEJOInWaY/wm0pD+xCgVE4n/QSYLo0ehpyfg8eINZW2Rb7SULjXnf1r56UTF376Iyt4WebNKahdrkuP32kxcO4eyiahcrjSqQ5PRg7IRHLNNbuLXABiC5Gz3PDSrZWgY5W40bf+S5YmQKJilD943j7iPBtogsjh9a0ZQBbOGP9Ij68gVaJWr2RB/SpHmJW+j7DQGAy38Lqwi3hpNbUorWQ1McPOQe7oi9vmqId1BJrafANRrtGnWTrT/i+Fc1k0oI09BV18EbZFMTezv0EeZ8BiPFDjKJ3psMKK+enTG2VtDwmORy+XAxvUXxylYq3g+nj5kpkfKn1gbZH3TDpq/589xwwTIkLM+xqbGkpfTtvv3AfepuBf/2ENOlozD4HR2iFWKXvGoCOGDBQMYUsb/ykcfZBE/JYpIuLn9G2Lnl617CMeNJOEEY8oVeVPgQjQ65eyVbyHbvKOkL/8zU1jxW+2lKmiDNUp4JRqJE91NdO9dW6UgSyPBJxaADqua88pH/+s7wER9YQL0SzXEBJE+YM="